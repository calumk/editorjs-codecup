<script src="../node_modules/@calumk/codecup/dist/codecup.bundle.js"></script>

<div class="container">

    <center>
        <img src="../assets/logo.png" width="300px">
    </center>

    <div id="cf_holder"></div>

    <br>
    <center>
        <button onclick="demo_create()">Create</button>
        <button onclick="demo_init()">Init</button>
        <button onclick="toggle_readonly()">Toggle Readonly</button>
        <button onclick="toggle_linenumbers()">Toggle LineNumbers</button>
        <button class="danger" onclick="demo_dispose()">Dispose</button>
    </center>
    <br>
    <center>
        <button onclick="change_language()">Change Language</button>
    </center>
</div>

<script>

    // new placeholder
    let cup = undefined

    let current_language = 'javascript'

    let change_language = () => {
        // ask the user for a language using a simple js alert popup, then update the codecup language
        let language = prompt('Enter a language to change to', current_language)
        current_language = language
        cup.updateLanguage(language)
    }


    let toggle_readonly = () => {
        cup.toggleReadonlyMode()
    }

    let toggle_linenumbers = () => {
        cup.toggleLineNumbers()
    }

    let demo_init = () => {
        cup.enableLineNumbers()
        cup.disableReadonlyMode()
        cup.updateCode('// Hello World \nlet num_a = 45; \nlet num_b = 33; \n\nlet adder = (_num_a,_num_b) => {\n\treturn _num_a + _num_b; \n}\n\nlet ans = adder(num_a,num_b)');
    }

    let demo_create = () => {
        demo_dispose();

        let editorElem = document.createElement('div');
        cup = new codecup(editorElem, { 
            language: current_language,
            lineNumbers: true 
        });
        document.getElementById('cf_holder').appendChild(editorElem);
        demo_init();
    }

    let demo_dispose = () => {
        if(cup !== undefined){
            cup.dispose();
            cup = undefined;
        }
    }


    demo_create();
    demo_init();

</script>









<style>
    body, html{
        margin:0;
        padding: 0;
    }

    .container{
        margin: 0 auto;
        width: 800px;
        padding:20px;
    }

    #cf_holder{
        height:200px;
        overflow: hidden;
        border : 1px solid #EAEEFB;
        border-radius: 4px;
    }

    button {
        background-color: #fff;
        color: #222;
        padding: 8px 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        border : 1px solid #EAEEFB;
        border-radius: 4px;
        font-size: 12px;
    }
    button:hover{
        background-color: #EAEEFB;
        cursor: pointer;
    }

    .danger{
        background-color: #FF5D5D;
    }

    h1{
        font-family: Arial, Helvetica, sans-serif;
    }

</style>